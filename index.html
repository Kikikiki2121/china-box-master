<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>China Box Master v5.0</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-container">
                        <span class="logo-icon">üì¶</span>
                    </div>
                    <div class="logo-text">
                        <h1>‰∏≠ÂõΩÁâ©ÊµÅ MASTER</h1>
                        <span class="version">China Premium Logistics</span>
                    </div>
                </div>
                <button class="btn-history" id="btnHistory">
                    <span class="icon">üìú</span>
                    <span class="text">HISTORY</span>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Rate & Currency Section -->
            <section class="glass-card rate-section">
                <h2 class="section-title">
                    <span class="icon">üí±</span>
                    RATE & CURRENCY
                </h2>
                
                <div class="currency-selector">
                    <button class="currency-btn active" data-currency="USD">
                        <span class="symbol">$</span>
                        <span class="code">USD</span>
                    </button>
                    <button class="currency-btn" data-currency="CNY">
                        <span class="symbol">¬•</span>
                        <span class="code">CNY</span>
                    </button>
                    <button class="currency-btn" data-currency="RUB">
                        <span class="symbol">‚ÇΩ</span>
                        <span class="code">RUB</span>
                    </button>
                </div>

                <div class="exchange-rate-block" id="exchangeRateBlock" style="display: none;">
                    <label for="exchangeRate">Exchange Rate (1 USD = ? <span id="targetCurrency">CNY</span>)</label>
                    <input type="number" id="exchangeRate" placeholder="7.2" step="0.01" min="0">
                </div>

                <div class="delivery-presets">
                    <h3 class="preset-title">Delivery Method</h3>
                    <div class="preset-buttons">
                        <button class="preset-btn" data-type="air">
                            <span class="emoji">‚úàÔ∏è</span>
                            <span class="name">AIR</span>
                            <span class="rate">$5.5/kg</span>
                        </button>
                        <button class="preset-btn" data-type="truck">
                            <span class="emoji">üöõ</span>
                            <span class="name">TRUCK</span>
                            <span class="rate">$3.8/kg</span>
                        </button>
                        <button class="preset-btn" data-type="sea">
                            <span class="emoji">üö¢</span>
                            <span class="name">SEA</span>
                            <span class="rate">$280/CBM</span>
                        </button>
                    </div>
                </div>

                <div class="custom-rate">
                    <label for="customRate">Custom Rate</label>
                    <div class="rate-input-group">
                        <input type="number" id="customRate" placeholder="0.00" step="0.01" min="0">
                        <select id="rateType">
                            <option value="kg">per KG</option>
                            <option value="cbm">per CBM</option>
                        </select>
                    </div>
                </div>
            </section>

            <!-- Boxes Section -->
            <section class="glass-card boxes-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <span class="icon">üìã</span>
                        CARGO ITEMS
                    </h2>
                    <button class="btn-add-box" id="btnAddBox">
                        <span class="icon">+</span>
                        ADD BOX
                    </button>
                </div>

                <div class="boxes-container" id="boxesContainer">
                    <!-- Boxes will be added dynamically -->
                </div>
            </section>

            <!-- Calculate Button -->
            <button class="btn-calculate" id="btnCalculate">
                <span class="icon">‚ö°</span>
                <span class="text">CALCULATE MANIFEST</span>
                <span class="icon">‚ö°</span>
            </button>
        </main>
    </div>

    <!-- History Modal -->
    <div class="modal-overlay" id="historyModal">
        <div class="modal-content history-modal">
            <div class="modal-header">
                <h2>üìú CALCULATION HISTORY</h2>
                <button class="btn-close" id="btnCloseHistory">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="history-list" id="historyList">
                    <!-- History items will be added here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Manifest Modal -->
    <div class="modal-overlay" id="manifestModal">
        <div class="modal-content manifest-modal">
            <button class="btn-close-manifest" id="btnCloseManifest">‚úï</button>
            
            <div class="manifest-header">
                <div class="manifest-logo">
                    <span class="logo-icon">üì¶</span>
                    <h1>CHB MASTER</h1>
                </div>
                <div class="manifest-date" id="manifestDate"></div>
                <div class="manifest-id">MANIFEST #<span id="manifestId"></span></div>
            </div>

            <div class="manifest-divider"></div>

            <div class="manifest-items">
                <h3>CARGO ITEMS</h3>
                <div class="items-list" id="manifestItemsList">
                    <!-- Items will be listed here -->
                </div>
            </div>

            <div class="manifest-divider"></div>

            <div class="manifest-totals">
                <div class="total-row">
                    <span class="label">TOTAL WEIGHT:</span>
                    <span class="value" id="manifestTotalWeight">0.00 kg</span>
                </div>
                <div class="total-row">
                    <span class="label">TOTAL VOLUME:</span>
                    <span class="value" id="manifestTotalCBM">0.000 m¬≥</span>
                </div>
                <div class="total-row">
                    <span class="label">DENSITY:</span>
                    <span class="value" id="manifestDensity">0.00 kg/m¬≥</span>
                </div>
                <div class="total-row highlight">
                    <span class="label">DELIVERY METHOD:</span>
                    <span class="value" id="manifestMethod">-</span>
                </div>
            </div>

            <div class="manifest-divider"></div>

            <div class="manifest-price">
                <div class="price-label">TOTAL COST</div>
                <div class="price-value" id="manifestPrice">$0.00</div>
                <div class="price-currency" id="manifestCurrency">USD</div>
            </div>

            <div class="manifest-barcode">
                <svg viewBox="0 0 200 50">
                    <rect x="5" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="10" y="5" width="4" height="40" fill="#00f2ea"/>
                    <rect x="17" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="22" y="5" width="6" height="40" fill="#00f2ea"/>
                    <rect x="31" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="36" y="5" width="4" height="40" fill="#00f2ea"/>
                    <rect x="43" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="48" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="53" y="5" width="6" height="40" fill="#00f2ea"/>
                    <rect x="62" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="67" y="5" width="4" height="40" fill="#00f2ea"/>
                    <rect x="74" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="79" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="84" y="5" width="6" height="40" fill="#00f2ea"/>
                    <rect x="93" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="98" y="5" width="4" height="40" fill="#00f2ea"/>
                    <rect x="105" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="110" y="5" width="6" height="40" fill="#00f2ea"/>
                    <rect x="119" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="124" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="129" y="5" width="4" height="40" fill="#00f2ea"/>
                    <rect x="136" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="141" y="5" width="6" height="40" fill="#00f2ea"/>
                    <rect x="150" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="155" y="5" width="4" height="40" fill="#00f2ea"/>
                    <rect x="162" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="167" y="5" width="6" height="40" fill="#00f2ea"/>
                    <rect x="176" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="181" y="5" width="4" height="40" fill="#00f2ea"/>
                    <rect x="188" y="5" width="2" height="40" fill="#00f2ea"/>
                    <rect x="193" y="5" width="2" height="40" fill="#00f2ea"/>
                </svg>
            </div>

            <button class="btn-share-manifest" id="btnShareManifest">
                <span class="icon">üöÄ</span>
                –û–¢–ü–†–ê–í–ò–¢–¨ –ó–ê–Ø–í–ö–£
            </button>
        </div>
    </div>

    <!-- Telegram Action Buttons -->
    <div class="telegram-actions">
        <button class="btn-action btn-action-outline" id="btnGetAddress">
            <span class="icon">üìç</span>
            <span class="text">GET WAREHOUSE ADDRESS</span>
        </button>
        <button class="btn-action btn-action-solid" id="btnSendOrder">
            <span class="icon">üöÄ</span>
            <span class="text">SEND ORDER TO MANAGER</span>
        </button>
    </div>

    <script src="script.js"></script>
</body>
</html>
